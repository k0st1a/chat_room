# chat_room

Пользователь в браузере заходит на сайт чата, выбирает имя и присоединяется к чат-комнате. Чат-комната может быть всего одна, а может и создаваться в динамике при входе (это будет плюсом). Пользователь может писать сообщения в чат и видеть сообщения других пользователей. В чате может быть сколь угодно пользователей. Кроме пользователей в комнате существует бот, который в случайные интервалы пишет сообщения (содержание на усмотрение автора).

## rebar3

Для сборки проекта используется rebar3. Предполагается, что вы уже умеете им пользоваться :)
Можно скопировать уже скомпилированный файл:
```
wget https://s3.amazonaws.com/rebar3/rebar3 && chmod +x rebar3
```
Добавляем путь к файлу в переменную окружения $PATH:
```
./rebar3 local install
```
```
echo "export PATH=$PATH:~/.cache/rebar3/bin" >> ~/.bashrc
```
Взято из https://habr.com/ru/post/319950/

## Сборка и запуск

Для сборки приложения сначала подтягиваем зависимости командой:
```
rebar3 get-deps
```

Затем компилируем:
```
rebar3 compile
```

Запускаем  командой:
```
rebar3 shell
```
P.S. По умолчанию сервис слушает порт 8080.

## Тестирование

Запускаем тесты командами:
```
rebar3 eunit
rebar3 ct
```

## Сборка релиза

Релиз собираем командой:
```
rebar3 release
```

После этого сервис можно запускать командами:
```
./_build/default/rel/chat_room/bin/chat_room console
```
или:
```
./_build/default/rel/chat_room/bin/chat_room daemon
```

Так же можно собрать архив( и в дальнейшем использовать уже его):
```
rebar3 tar
```
